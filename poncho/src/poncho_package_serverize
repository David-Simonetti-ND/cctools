#!/usr/bin/env python3

# Copyright (C) 2022- The University of Notre Dame
# This software is distributed under the GNU General Public License.
# See the file COPYING for details.


from poncho import poncho_package_analyze as analyze
from poncho import poncho_package_create as create
import argparse
import json

def MakeNetworkFunction(filename, func, keep_data=False):
	
	function_name = func.__name__
	#env = analyze.create_spec(filename, function=function_name)

	print(json.dumps(env, indent=4, sort_keys=True))

	with open('tmp.json', 'w') as f:
		json.dump(env, f, indent=4, sort_keys=True)

	#pkg = create.pack_env('tmp.json', 'tmp.tar.gz', serverless=True, function=func)

	#return pkg
if __name__ == "__main__":
	parser = argparse.ArgumentParser(description="Creates a network function based on an input file and function")
	parser.add_argument('filename', help='Source file that contains the function to be serverized')
	parser.add_argument('function-name', help='Name of the function in filename to be serverized')
	args = parser.parse_args()
	print(args)